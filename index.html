<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BeatAware - Home</title>
    <style>
      body {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100vh;
        margin: 0;
        font-family: "Arial", sans-serif;
        background-color: #ffebcc;
        color: #333;
        overflow-x: hidden;
        position: relative;
      }

      header {
        text-align: center;
        margin-bottom: 20px;
      }

      #logo-container {
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      #logo,
      #user-logo {
        width: 200px;
        height: 200px;
        background-color: #007bff;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 24px;
        cursor: pointer;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        transition: transform 0.2s, background-color 0.3s;
        margin-top: 20px;
      }

      #logo:hover,
      #user-logo:hover {
        transform: scale(1.1);
        background-color: #0056b3;
      }

      nav {
        margin-top: 20px;
      }

      nav a {
        font-size: 24px;
        color: white;
        text-decoration: none;
        background-color: #007bff;
        padding: 10px 20px;
        border-radius: 25px;
        transition: background-color 0.3s, transform 0.2s;
      }

      nav a:hover {
        background-color: #0056b3;
        transform: scale(1.05);
      }

      .brand-logo {
        width: 100px;
        height: auto;
        margin-bottom: 10px;
        border-radius: 50%;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
      }

      #user-form {
        display: none;
        flex-direction: column;
        align-items: center;
        margin-top: 20px;
        width: 300px;
        padding: 20px;
        background-color: #ffffffdd;
        border-radius: 10px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
      }

      #user-form input {
        margin: 5px;
        padding: 10px;
        width: 100%;
        border-radius: 5px;
        border: 1px solid #ccc;
        font-size: 16px;
      }

      #user-form button {
        padding: 10px 20px;
        margin-top: 10px;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s, transform 0.2s;
        font-size: 16px;
      }

      #user-form button:hover {
        background-color: #0056b3;
        transform: scale(1.05);
      }

      #show-details-button {
        position: fixed;
        top: 10px;
        right: 10px;
        width: 50px;
        height: 50px;
        background-color: #28a745;
        color: white;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        font-size: 24px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        transition: background-color 0.3s, transform 0.2s;
        display: none;
        z-index: 1000;
      }

      #show-details-button:hover {
        background-color: #218838;
        transform: scale(1.1);
      }

      #user-details {
        position: fixed;
        top: 70px;
        right: 10px;
        width: 300px;
        padding: 20px;
        background-color: #ffffffdd;
        border-radius: 10px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        display: none;
        z-index: 999;
      }

      /* Video styling */
      .video-container {
        position: absolute;
        width: 500px; /* Increased size */
        height: auto;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        border-radius: 10px;
      }

      .video-container video {
        width: 100%;
        height: auto;
        border-radius: 10px;
      }

      #video-top {
        top: 80px; /* Position the first video slightly below the logo */
        left: 20px;
      }

      #video-bottom {
        bottom: 20px; /* Position the second video at the bottom-right corner */
        right: 20px; /* Right alignment */
      }

      /* Health Info Box */
      #health-info {
        position: absolute;
        bottom: 20px;
        left: 20px;
        width: 300px;
        height: 150px;
        background-color: #d4edda; /* Light green */
        border-radius: 10px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        overflow-y: auto;
        padding: 10px;
        font-size: 14px;
        z-index: 999;
      }

      #health-info a {
        color: #007bff;
        text-decoration: none;
        font-weight: bold;
      }

      #health-info a:hover {
        text-decoration: underline;
      }
    </style>
  </head>

  <body>
    <header>
      <img
        src="C:\Users\raghu\Downloads\logo.webp"
        alt="BeatAware Logo"
        class="brand-logo"
      />
      <h1>BeatAware</h1>
      <p>Your personal health companion, integrated with your smartwatch.</p>
    </header>

    <!-- First video container (Top-left) -->
    <div id="video-top" class="video-container">
      <video autoplay muted loop>
        <source
          src="file:///C:/Users/raghu/Downloads/5974322-uhd_3840_2160_30fps.mp4"
          type="video/mp4"
        />
        Your browser does not support the video tag.
      </video>
    </div>

    <!-- Second video container (Bottom-right) -->
    <div id="video-bottom" class="video-container">
      <video autoplay muted loop>
        <source
          src="file:///C:/Users/raghu/Downloads/3981738-uhd_3840_2160_30fps.mp4"
          type="video/mp4"
        />
        Your browser does not support the video tag.
      </video>
    </div>

    <div id="health-info">
      <h3>Important Health Info</h3>
      <ul>
        <li>Maintain a balanced diet.</li>
        <li>Exercise regularly to stay fit.</li>
        <li>Monitor your heart rate with your smartwatch.</li>
        <li>
          Learn more at
          <a href="https://www.healthline.com" target="_blank">Healthline</a>.
        </li>
      </ul>
    </div>

    <div class="content-container">
      <!-- Main Content Area -->
      <div class="main-content">
        <div id="logo-container">
          <div id="logo" onclick="connectBluetooth()">Bluetooth</div>
          <div id="user-logo" onclick="showUserForm()">User Details</div>
        </div>

        <div id="user-form">
          <h2>Enter User Details</h2>
          <input type="text" id="name" placeholder="Name" />
          <input type="number" id="age" placeholder="Age" />
          <input type="text" id="phone" placeholder="Phone Number" />
          <input
            type="text"
            id="emergency-contact"
            placeholder="Emergency Contact"
          />
          <button onclick="saveUserDetails()">Save</button>
        </div>

        <button id="show-details-button" onclick="showSavedDetails()">i</button>
        <div id="user-details"></div>

        <nav>
          <a href="features.html">&#10148; Next</a>
        </nav>
      </div>
    </div>

    <script>
      // Bluetooth connection function
      async function connectBluetooth() {
        try {
          const device = await navigator.bluetooth.requestDevice({
            acceptAllDevices: true,
            optionalServices: ["battery_service"],
          });
          console.log("Connected to Bluetooth device:", device.name);
          alert("Connected to " + device.name);
        } catch (error) {
          console.log("Error connecting to Bluetooth:", error);
          alert("Failed to connect to Bluetooth");
        }
      }

      function showUserForm() {
        document.getElementById("user-form").style.display = "flex";
      }

      function saveUserDetails() {
        const name = document.getElementById("name").value;
        const age = document.getElementById("age").value;
        const phone = document.getElementById("phone").value;
        const emergencyContact =
          document.getElementById("emergency-contact").value;
        const data = [
          ["Name", "Age", "Phone Number", "Emergency Contact"],
          [name, age, phone, emergencyContact],
        ];
        const csvContent =
          "data:text/csv;charset=utf-8," +
          data.map((e) => e.join(",")).join("\n");
        const encodedUri = encodeURI(csvContent);
        const link = document.createElement("a");
        link.setAttribute("href", encodedUri);
        link.setAttribute("download", "user_details.csv");
        document.body.appendChild(link);
        link.click();
        alert("User details saved and downloaded as CSV.");
        document.getElementById("show-details-button").style.display =
          "inline-block";
        sessionStorage.setItem("userDetails", JSON.stringify(data));
      }

      function showSavedDetails() {
        const userDetails = JSON.parse(sessionStorage.getItem("userDetails"));
        if (userDetails) {
          const [headers, details] = userDetails;
          const userDetailsDiv = document.getElementById("user-details");
          userDetailsDiv.style.display = "block";
          userDetailsDiv.innerHTML = ` 
          <h3>Saved User Details</h3>
          <p><strong>${headers[0]}:</strong> ${details[0]}</p>
          <p><strong>${headers[1]}:</strong> ${details[1]}</p>
          <p><strong>${headers[2]}:</strong> ${details[2]}</p>
          <p><strong>${headers[3]}:</strong> ${details[3]}</p>
        `;
        }
      }
    </script>
  </body>
</html>
